/* 
 * TouchPoint.js v1.0.1 - 2017-09-29 
 * A JavaScript library that visually shows taps/cicks on HTML prototypes 
 * https://github.com/jonahvsweb/touchpoint-js 
 * 
 * Copyright (c) 2017 Jonah Bitautas <jonahvsweb@gmail.com> 
 * 
 * Released under the MIT license 
*/ 
"use strict";!function(){function a(){var a;do a=Math.floor(1e9*Math.random());while(a in c);return a}var b={isSafari:!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),clickTap:"ontouchstart"in window?"touchstart":"click",el:"div",dom:window,styleEl:"",color:"#FFF",opacity:.8,size:20,scale:8,tp:"",z:9999,init:function(a){b.dom=a,b.createCss(".tp-init","position: relative; width: "+b.size+"px; height: "+b.size+"px; background-color: "+b.color+"; opacity: "+b.opacity+"; border-radius: 20px; -ms-transform: scale(0.5); -webkit-transform: scale(0.5); -moz-transform: scale(0.5); -o-transform: scale(0.5); transform: scale(0.5); -ms-transition: all 0.5s ease-out; -webkit-transition: all 0.5s ease-out; -moz-transition: all 0.5s ease-out; -o-transition: all 0.5s ease-out; transition: all 0.5s ease-out; z-index: "+b.z+";").createCss(".tp-anim","-ms-transform: scale("+b.scale+"); -webkit-transform: scale("+b.scale+"); -moz-transform: scale("+b.scale+"); -o-transform: scale("+b.scale+"); transform: scale("+b.scale+"); opacity: 0;"),b.dom.addEventListener(b.clickTap,b.create,!1)},create:function(a){return b.dom.removeEventListener(b.clickTap,b.create,!1),b.tp=document.createElement(b.el),b.tp.setAttribute("id","touchpoint"),"iOS"===b.getMobileOS()?(b.tp.style.left=a.pageX-.5*b.size+"px",b.tp.style.top=a.pageY-.5*b.size+"px"):"Android"===b.getMobileOS()?(b.tp.style.left=a.touches[0].pageX-.5*b.size+"px",b.tp.style.top=a.touches[0].pageY-.5*b.size+"px"):a.touches&&a.touches.length>0?(b.tp.style.left=a.touches[0].pageX-.5*b.size+"px",b.tp.style.top=a.touches[0].pageY-.5*b.size+"px"):(b.tp.style.left=a.clientX-.5*b.size+"px",b.tp.style.top=a.clientY-.5*b.size+"px"),b.tp.className="tp-init",document.body.appendChild(b.tp),requestNextAnimationFrame(function(){b.tp.className+=" tp-anim"}),b.tp.addEventListener("transitionend",b.gc,!1),b},gc:function(a){var c=document.body.querySelector("#touchpoint");c&&(a.target.removeEventListener("transitionend",b.gc,!1),document.body.removeChild(c),b.reInit())},reInit:function(){b.dom.addEventListener(b.clickTap,b.create,!1)},createCss:function(a,c){for(var d=document.head||document.getElementsByTagName("head")[0],e=0;e<d.childNodes.length;e+=1){if("style"===d.getElementsByTagName("style")[e].tagName.toLowerCase()){d.getElementsByTagName("style")[e].innerHTML+=a+" { "+c+" }",b.styleEl=d.getElementsByTagName("style")[e];break}b.styleEl=document.createElement("style"),b.styleEl.type="text/css",b.styleEl.innerHTML=a+" { "+c+" }",d.appendChild(b.styleEl);break}return b},getMobileOS:function(){var a=navigator.userAgent||navigator.vendor||window.opera;return a.match(/iPad/i)||a.match(/iPhone/i)||a.match(/iPod/i)?"iOS":a.match(/Android/i)?"Android":"unknown"}},c={};window.requestNextAnimationFrame||(window.requestNextAnimationFrame=function(b,d){var e=a();return c[e]=requestAnimationFrame(function(){c[e]=requestAnimationFrame(function(a){delete c[e],b(a)},d)},d),e}),window.cancelNextAnimationFrame||(window.cancelNextAnimationFrame=function(a){c[a]&&(cancelAnimationFrame(c[a]),delete c[a])})}();