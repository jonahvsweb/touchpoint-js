/* 
 * TouchPoint.js v1.0.1 - 2017-09-30 
 * A JavaScript library that visually shows taps/cicks on HTML prototypes 
 * https://github.com/jonahvsweb/touchpoint-js 
 * 
 * Copyright (c) 2017 Jonah Bitautas <jonahvsweb@gmail.com> 
 * 
 * Released under the MIT license 
*/ 
"use strict";var TouchPoint;!function(){TouchPoint={clickTap:"ontouchstart"in window?"touchstart":"click",dom:"",styleEl:"",color:"#FFF",opacity:.8,size:20,scale:8,tp:"",animIds:{},init:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";window.addEventListener("load",this.setupAnimation,!1),this.dom=document.querySelector(a),this.createCss(".tp-init","position: absolute; width: "+this.size+"px; height: "+this.size+"px; background-color: "+this.color+"; opacity:  "+this.opacity+"; border-radius: 20px; -ms-transform: scale(0.5); -webkit-transform: scale(0.5); -moz-transform: scale(0.5); -o-transform: scale(0.5); transform: scale(0.5); -ms-transition: all 0.5s ease-out; -webkit-transition: all 0.5s ease-out; -moz-transition: all 0.5s ease-out; -o-transition: all 0.5s ease-out; transition: all 0.5s ease-out; z-index: 9999;").createCss(".tp-anim","-ms-transform: scale("+this.scale+"); -webkit-transform: scale("+this.scale+"); -moz-transform: scale("+this.scale+"); -o-transform: scale("+this.scale+"); transform: scale("+this.scale+"); opacity: 0;"),this.dom.addEventListener(this.clickTap,this.create,!1)},create:function(a){TouchPoint.tp=document.createElement("div"),TouchPoint.tp.setAttribute("id","touchpoint"),"iOS"===TouchPoint.getMobileOS()?(TouchPoint.tp.style.left=a.pageX-.5*TouchPoint.size+"px",TouchPoint.tp.style.top=a.pageY-.5*TouchPoint.size+"px"):"Android"===TouchPoint.getMobileOS()?(TouchPoint.tp.style.left=a.touches[0].pageX-.5*TouchPoint.size+"px",TouchPoint.tp.style.top=a.touches[0].pageY-.5*TouchPoint.size+"px"):a.touches&&a.touches.length>0?(TouchPoint.tp.style.left=a.touches[0].pageX-.5*TouchPoint.size+"px",TouchPoint.tp.style.top=a.touches[0].pageY-.5*TouchPoint.size+"px"):(TouchPoint.tp.style.left=a.clientX-.5*TouchPoint.size+"px",TouchPoint.tp.style.top=a.clientY-.5*TouchPoint.size+"px"),TouchPoint.tp.className="tp-init",document.body.appendChild(TouchPoint.tp),window.requestNextAnimationFrame(function(){TouchPoint.tp.className+=" tp-anim"}),TouchPoint.tp.addEventListener("transitionend",TouchPoint.gc,!1)},gc:function(a){var b=document.querySelector("#touchpoint");TouchPoint.dom.removeEventListener(TouchPoint.clickTap,TouchPoint.create,!1),b&&(a.target.removeEventListener("transitionend",TouchPoint.gc,!1),document.body.removeChild(b),TouchPoint.dom.addEventListener(TouchPoint.clickTap,TouchPoint.create,!1))},createCss:function(a,b){for(var c=document.head||document.getElementsByTagName("head")[0],d=0;d<c.childNodes.length;d+=1){if("style"===c.getElementsByTagName("style")[d].tagName.toLowerCase()){c.getElementsByTagName("style")[d].innerHTML+=a+" { "+b+" }",TouchPoint.styleEl=c.getElementsByTagName("style")[d];break}TouchPoint.styleEl=document.createElement("style"),TouchPoint.styleEl.type="text/css",TouchPoint.styleEl.innerHTML=a+" { "+b+" }",c.appendChild(TouchPoint.styleEl);break}return TouchPoint},getMobileOS:function(){var a=navigator.userAgent||navigator.vendor||window.opera;return a.match(/iPad/i)||a.match(/iPhone/i)||a.match(/iPod/i)?"iOS":a.match(/Android/i)?"Android":"unknown"},requestId:function(){var a=void 0;do a=Math.floor(1e9*Math.random());while(a in TouchPoint.animIds);return a},setupAnimation:function(a){window.requestNextAnimationFrame||(window.requestNextAnimationFrame=function(a,b){var c=TouchPoint.requestId();return TouchPoint.animIds[c]=requestAnimationFrame(function(){TouchPoint.animIds[c]=requestAnimationFrame(function(b){delete TouchPoint.animIds[c],a(b)},b)},b),c}),window.cancelNextAnimationFrame||(window.cancelNextAnimationFrame=function(a){TouchPoint.animIds[a]&&(cancelAnimationFrame(TouchPoint.animIds[a]),delete TouchPoint.animIds[a])})}}}();