{"version":3,"sources":["touchpoint.js"],"names":["TouchPoint","isSafari","navigator","userAgent","match","clickTap","window","el","dom","styleEl","color","opacity","size","scale","tp","z","init","document","querySelector","createCss","addEventListener","create","e","createElement","setAttribute","getMobileOS","style","left","pageX","top","pageY","touches","length","clientX","clientY","className","body","appendChild","requestNextAnimationFrame","gc","currTP","removeEventListener","target","removeChild","reInit","name","rules","head","getElementsByTagName","i","childNodes","tagName","toLowerCase","innerHTML","type","vendor","opera","ids","requestId","id","Math","floor","random","callback","element","requestAnimationFrame","ts","cancelNextAnimationFrame","cancelAnimationFrame"],"mappings":"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","file":"touchpoint-es5.js","sourcesContent":["/* \n * TouchPoint.js v1.0.1 - 2017-09-30 \n * A JavaScript library that visually shows taps/cicks on HTML prototypes \n * https://github.com/jonahvsweb/touchpoint-js \n * \n * Copyright (c) 2017 Jonah Bitautas <jonahvsweb@gmail.com> \n * \n * Released under the MIT license \n*/ \n'use strict';\n\nvar TouchPoint;\n\n(() => {\n\n  TouchPoint = {\n\n    isSafari: !!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/),\n    clickTap: ('ontouchstart' in window ? 'touchstart' : 'click'),\n    el: 'div', \n    dom: '', \n    styleEl: '',\n    color: '#FFF', \n    opacity: 0.8, \n    size: 20, \n    scale: 8,\n    tp: '', \n    z: 9999,\n\n    init(dom = 'body') {\n\n      this.dom = document.querySelector(dom);\n      \n      this\n        .createCss('.tp-init', \n          `position: absolute; width: ${ this.size }px; height: ${ this.size }px; background-color: ${ this.color }; opacity:  ${ this.opacity }; border-radius: 20px; -ms-transform: scale(0.5); -webkit-transform: scale(0.5); -moz-transform: scale(0.5); -o-transform: scale(0.5); transform: scale(0.5); -ms-transition: all 0.5s ease-out; -webkit-transition: all 0.5s ease-out; -moz-transition: all 0.5s ease-out; -o-transition: all 0.5s ease-out; transition: all 0.5s ease-out; z-index: ${ this.z };`)\n        .createCss('.tp-anim', \n          `-ms-transform: scale(${ this.scale }); -webkit-transform: scale(${ this.scale }); -moz-transform: scale(${ this.scale }); -o-transform: scale(${ this.scale }); transform: scale(${ this.scale }); opacity: 0;`\n        );\n      this.dom.addEventListener(this.clickTap, this.create, false);\n    },\n\n    create(e) {\n      \n      TouchPoint.tp = document.createElement(TouchPoint.el);\n      TouchPoint.tp.setAttribute('id', 'touchpoint');\n\n      if(TouchPoint.getMobileOS() === 'iOS') {\n        TouchPoint.tp.style.left = `${ e.pageX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.pageY - (TouchPoint.size * 0.5) }px`;\n      } else if (TouchPoint.getMobileOS() === 'Android') {\n        TouchPoint.tp.style.left = `${ e.touches[0].pageX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.touches[0].pageY - (TouchPoint.size * 0.5) }px`;\n      } else if (e.touches && e.touches.length > 0) { \n        TouchPoint.tp.style.left = `${ e.touches[0].pageX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.touches[0].pageY - (TouchPoint.size * 0.5) }px`;\n      } else { \n        TouchPoint.tp.style.left = `${ e.clientX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.clientY - (TouchPoint.size * 0.5) }px`;\n      }\n      TouchPoint.tp.className = 'tp-init';\n\n      document.body.appendChild(TouchPoint.tp);\n\n      requestNextAnimationFrame(() => {\n        TouchPoint.tp.className += ' tp-anim';\n      });\n      TouchPoint.tp.addEventListener('transitionend', TouchPoint.gc, false);\n\n      return TouchPoint;\n    },\n\n    gc(e) {\n      let currTP = document.querySelector('#touchpoint');\n\n      TouchPoint.dom.removeEventListener(TouchPoint.clickTap, TouchPoint.create, false);\n\n      if(currTP) {\n\n        e.target.removeEventListener('transitionend', TouchPoint.gc, false);\n        document.body.removeChild(currTP);\n        TouchPoint.reInit();\n      }\n    },\n\n    reInit() {\n\n      TouchPoint.dom.addEventListener(TouchPoint.clickTap, TouchPoint.create, false);\n    },\n\n    createCss(name, rules) {\n      let head = document.head || document.getElementsByTagName('head')[0];\n\n      for(let i = 0; i < head.childNodes.length; i = i + 1) {\n        if(head.getElementsByTagName('style')[i].tagName.toLowerCase() === 'style') {\n          head.getElementsByTagName('style')[i].innerHTML += name + ' { ' + rules + ' }';\n          TouchPoint.styleEl = head.getElementsByTagName('style')[i];\n          break;\n        } else {\n          TouchPoint.styleEl = document.createElement('style');\n          TouchPoint.styleEl.type = 'text/css';\n          TouchPoint.styleEl.innerHTML = name + ' { ' + rules + ' }';\n          head.appendChild(TouchPoint.styleEl);\n          break;\n        }\n      }\n      return TouchPoint;\n    },\n\n    getMobileOS() {\n      let userAgent = navigator.userAgent || navigator.vendor || window.opera;\n\n      if(userAgent.match( /iPad/i ) || userAgent.match( /iPhone/i ) || userAgent.match( /iPod/i )) {\n        return 'iOS';\n      } else if(userAgent.match( /Android/i )) {\n        return 'Android';\n      } else {\n        return 'unknown';\n      }\n    }\n  };\n\n  // requestNextAnimationFrame shim from: https://gist.github.com/getify/3004342\n  let ids = {};\n\n  let requestId = () => {\n      \n      let id;\n      \n      do {\n          id = Math.floor(Math.random() * 1E9);\n      } while (id in ids);\n\n      return id;\n  }\n\n  if (!window.requestNextAnimationFrame) {\n      window.requestNextAnimationFrame = (callback, element) => {\n          let id = requestId();\n\n          ids[id] = requestAnimationFrame(() => {\n              ids[id] = requestAnimationFrame((ts) => {\n                  delete ids[id];\n                  callback(ts);\n              }, element);\n          }, element);\n\n          return id;\n      };\n  }\n\n  if (!window.cancelNextAnimationFrame) {\n      window.cancelNextAnimationFrame = (id) => {\n          if (ids[id]) {\n              cancelAnimationFrame(ids[id]);\n              delete ids[id];\n          }\n      };\n  }\n})();"]}