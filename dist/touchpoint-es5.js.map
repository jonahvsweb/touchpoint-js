{"version":3,"sources":["touchpoint.js"],"names":["TouchPoint","clickTap","window","dom","styleEl","color","opacity","size","scale","tp","animIds","init","addEventListener","setupAnimation","document","querySelector","createCss","create","e","createElement","setAttribute","getMobileOS","style","left","pageX","top","pageY","touches","length","clientX","clientY","className","body","appendChild","requestNextAnimationFrame","gc","currTP","removeEventListener","target","removeChild","name","rules","head","getElementsByTagName","i","childNodes","tagName","toLowerCase","innerHTML","type","userAgent","navigator","vendor","opera","match","requestId","id","Math","floor","random","callback","element","requestAnimationFrame","ts","cancelNextAnimationFrame","cancelAnimationFrame"],"mappings":"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","file":"touchpoint-es5.js","sourcesContent":["/* \n * TouchPoint.js v1.0.1 - 2017-09-30 \n * A JavaScript library that visually shows taps/cicks on HTML prototypes \n * https://github.com/jonahvsweb/touchpoint-js \n * \n * Copyright (c) 2017 Jonah Bitautas <jonahvsweb@gmail.com> \n * \n * Released under the MIT license \n*/ \n'use strict';\n\nvar TouchPoint;\n\n(() => {\n\n  TouchPoint = {\n\n    clickTap: ('ontouchstart' in window ? 'touchstart' : 'click'),\n    dom: '', \n    styleEl: '',\n    color: '#FFF', \n    opacity: 0.8, \n    size: 20, \n    scale: 8,\n    tp: '', \n    animIds: {}, \n\n    init(dom = 'body') {\n\n      window.addEventListener('load', this.setupAnimation, false);\n      this.dom = document.querySelector(dom);\n      \n      this\n        .createCss('.tp-init', \n          `position: absolute; width: ${ this.size }px; height: ${ this.size }px; background-color: ${ this.color }; opacity:  ${ this.opacity }; border-radius: 20px; -ms-transform: scale(0.5); -webkit-transform: scale(0.5); -moz-transform: scale(0.5); -o-transform: scale(0.5); transform: scale(0.5); -ms-transition: all 0.5s ease-out; -webkit-transition: all 0.5s ease-out; -moz-transition: all 0.5s ease-out; -o-transition: all 0.5s ease-out; transition: all 0.5s ease-out; z-index: 9999;`)\n        .createCss('.tp-anim', \n          `-ms-transform: scale(${ this.scale }); -webkit-transform: scale(${ this.scale }); -moz-transform: scale(${ this.scale }); -o-transform: scale(${ this.scale }); transform: scale(${ this.scale }); opacity: 0;`\n        );\n      this.dom.addEventListener(this.clickTap, this.create, false);\n    },\n\n    create(e) {\n      \n      TouchPoint.tp = document.createElement('div');\n      TouchPoint.tp.setAttribute('id', 'touchpoint');\n\n      if(TouchPoint.getMobileOS() === 'iOS') {\n        TouchPoint.tp.style.left = `${ e.pageX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.pageY - (TouchPoint.size * 0.5) }px`;\n      } else if (TouchPoint.getMobileOS() === 'Android') {\n        TouchPoint.tp.style.left = `${ e.touches[0].pageX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.touches[0].pageY - (TouchPoint.size * 0.5) }px`;\n      } else if (e.touches && e.touches.length > 0) { \n        TouchPoint.tp.style.left = `${ e.touches[0].pageX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.touches[0].pageY - (TouchPoint.size * 0.5) }px`;\n      } else { \n        TouchPoint.tp.style.left = `${ e.clientX - (TouchPoint.size * 0.5) }px`;\n        TouchPoint.tp.style.top = `${ e.clientY - (TouchPoint.size * 0.5) }px`;\n      }\n      TouchPoint.tp.className = 'tp-init';\n\n      document.body.appendChild(TouchPoint.tp);\n\n      window.requestNextAnimationFrame(() => {\n        TouchPoint.tp.className += ' tp-anim';\n      });\n      TouchPoint.tp.addEventListener('transitionend', TouchPoint.gc, false);\n    },\n\n    gc(e) {\n\n      let currTP = document.querySelector('#touchpoint');\n\n      TouchPoint.dom.removeEventListener(TouchPoint.clickTap, TouchPoint.create, false);\n\n      if(currTP) {\n\n        e.target.removeEventListener('transitionend', TouchPoint.gc, false);\n        document.body.removeChild(currTP);\n        TouchPoint.dom.addEventListener(TouchPoint.clickTap, TouchPoint.create, false);\n      }\n    },\n\n    createCss(name, rules) {\n\n      let head = document.head || document.getElementsByTagName('head')[0];\n\n      for(let i = 0; i < head.childNodes.length; i = i + 1) {\n        if(head.getElementsByTagName('style')[i].tagName.toLowerCase() === 'style') {\n          head.getElementsByTagName('style')[i].innerHTML += name + ' { ' + rules + ' }';\n          TouchPoint.styleEl = head.getElementsByTagName('style')[i];\n          break;\n        } else {\n          TouchPoint.styleEl = document.createElement('style');\n          TouchPoint.styleEl.type = 'text/css';\n          TouchPoint.styleEl.innerHTML = name + ' { ' + rules + ' }';\n          head.appendChild(TouchPoint.styleEl);\n          break;\n        }\n      }\n      return TouchPoint;\n    },\n\n    getMobileOS() {\n      \n      let userAgent = navigator.userAgent || navigator.vendor || window.opera;\n\n      if(userAgent.match( /iPad/i ) || userAgent.match( /iPhone/i ) || userAgent.match( /iPod/i )) {\n        return 'iOS';\n      } else if(userAgent.match( /Android/i )) {\n        return 'Android';\n      } else {\n        return 'unknown';\n      }\n    }, \n\n    requestId() {\n\n      let id;\n      \n      do {\n          id = Math.floor(Math.random() * 1E9);\n        } while (id in TouchPoint.animIds);\n\n      return id;\n    }, \n\n    setupAnimation(e) {\n\n      if (!window.requestNextAnimationFrame) {\n        \n        window.requestNextAnimationFrame = (callback, element) => {\n          \n          let id = TouchPoint.requestId();\n\n          TouchPoint.animIds[id] = requestAnimationFrame(() => {\n            \n            TouchPoint.animIds[id] = requestAnimationFrame((ts) => {\n              \n              delete TouchPoint.animIds[id];\n              callback(ts);\n            \n            }, element);\n          \n          }, element);\n\n          return id;\n        };\n      }\n\n      if (!window.cancelNextAnimationFrame) {\n      \n        window.cancelNextAnimationFrame = (id) => {\n          \n          if (TouchPoint.animIds[id]) {\n            \n            cancelAnimationFrame(TouchPoint.animIds[id]);\n            delete TouchPoint.animIds[id];\n          }\n        }\n      }\n    }\n  }\n})();"]}