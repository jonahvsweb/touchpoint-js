{"version":3,"sources":["touchpoint.js"],"names":["TouchPoint","isSafari","navigator","userAgent","match","clickTap","window","el","dom","styleEl","color","opacity","size","scale","tp","z","init","createCss","addEventListener","create","e","removeEventListener","document","createElement","setAttribute","getMobileOS","style","left","pageX","top","pageY","touches","length","clientX","clientY","className","body","appendChild","requestNextAnimationFrame","gc","currTP","querySelector","target","removeChild","reInit","name","rules","head","getElementsByTagName","i","childNodes","tagName","toLowerCase","innerHTML","type","vendor","opera","ids","requestId","id","Math","floor","random","callback","element","requestAnimationFrame","ts","cancelNextAnimationFrame","cancelAnimationFrame"],"mappings":"AAAA;;;;;;;;;AASA;;AAEA,IAAIA,UAAJ;;AAEA,CAAC,YAAY;;AAEXA,eAAa;;AAEXC,cAAU,CAAC,CAACC,UAAUC,SAAV,CAAoBC,KAApB,CAA0B,0BAA1B,CAFD;AAGXC,cAAW,kBAAkBC,MAAlB,GAA2B,YAA3B,GAA0C,OAH1C;AAIXC,QAAI,KAJO;AAKXC,SAAKF,MALM;AAMXG,aAAS,EANE;AAOXC,WAAO,MAPI;AAQXC,aAAS,GARE;AASXC,UAAM,EATK;AAUXC,WAAO,CAVI;AAWXC,QAAI,EAXO;AAYXC,OAAG,IAZQ;;AAcXC,UAAM,cAAST,EAAT,EAAa;AACjBP,iBAAWQ,GAAX,GAAiBD,EAAjB;;AAEAP,iBACGiB,SADH,CACa,UADb,EAEI,gCAAgCjB,WAAWY,IAA3C,GAAkD,cAAlD,GAAmEZ,WAAWY,IAA9E,GAAqF,wBAArF,GAAgHZ,WAAWU,KAA3H,GAAmI,aAAnI,GAAmJV,WAAWW,OAA9J,GAAwK,wVAAxK,GAAmgBX,WAAWe,CAA9gB,GAAkhB,GAFthB,EAGGE,SAHH,CAGa,UAHb,EAII,0BAA0BjB,WAAWa,KAArC,GAA6C,8BAA7C,GAA8Eb,WAAWa,KAAzF,GAAiG,2BAAjG,GAA+Hb,WAAWa,KAA1I,GAAkJ,yBAAlJ,GAA8Kb,WAAWa,KAAzL,GAAiM,sBAAjM,GAA0Nb,WAAWa,KAArO,GAA6O,gBAJjP;AAMAb,iBAAWQ,GAAX,CAAeU,gBAAf,CAAgClB,WAAWK,QAA3C,EAAqDL,WAAWmB,MAAhE,EAAwE,KAAxE;AACD,KAxBU;;AA0BXA,YAAQ,gBAASC,CAAT,EAAY;AAClBpB,iBAAWQ,GAAX,CAAea,mBAAf,CAAmCrB,WAAWK,QAA9C,EAAwDL,WAAWmB,MAAnE,EAA2E,KAA3E;;AAEAnB,iBAAWc,EAAX,GAAgBQ,SAASC,aAAT,CAAuBvB,WAAWO,EAAlC,CAAhB;AACAP,iBAAWc,EAAX,CAAcU,YAAd,CAA2B,IAA3B,EAAiC,YAAjC;;AAEA,UAAGxB,WAAWyB,WAAX,OAA6B,KAAhC,EAAuC;AACrCzB,mBAAWc,EAAX,CAAcY,KAAd,CAAoBC,IAApB,GAA4BP,EAAEQ,KAAF,GAAW5B,WAAWY,IAAX,GAAkB,GAA9B,GAAsC,IAAjE;AACAZ,mBAAWc,EAAX,CAAcY,KAAd,CAAoBG,GAApB,GAA2BT,EAAEU,KAAF,GAAW9B,WAAWY,IAAX,GAAkB,GAA9B,GAAsC,IAAhE;AACD,OAHD,MAGO,IAAIZ,WAAWyB,WAAX,OAA6B,SAAjC,EAA4C;AACjDzB,mBAAWc,EAAX,CAAcY,KAAd,CAAoBC,IAApB,GAA4BP,EAAEW,OAAF,CAAU,CAAV,EAAaH,KAAb,GAAsB5B,WAAWY,IAAX,GAAkB,GAAzC,GAAiD,IAA5E;AACAZ,mBAAWc,EAAX,CAAcY,KAAd,CAAoBG,GAApB,GAA2BT,EAAEW,OAAF,CAAU,CAAV,EAAaD,KAAb,GAAsB9B,WAAWY,IAAX,GAAkB,GAAzC,GAAiD,IAA3E;AACD,OAHM,MAGA,IAAIQ,EAAEW,OAAF,IAAaX,EAAEW,OAAF,CAAUC,MAAV,GAAmB,CAApC,EAAuC;AAC5ChC,mBAAWc,EAAX,CAAcY,KAAd,CAAoBC,IAApB,GAA4BP,EAAEW,OAAF,CAAU,CAAV,EAAaH,KAAb,GAAsB5B,WAAWY,IAAX,GAAkB,GAAzC,GAAiD,IAA5E;AACAZ,mBAAWc,EAAX,CAAcY,KAAd,CAAoBG,GAApB,GAA2BT,EAAEW,OAAF,CAAU,CAAV,EAAaD,KAAb,GAAsB9B,WAAWY,IAAX,GAAkB,GAAzC,GAAiD,IAA3E;AACD,OAHM,MAGA;AACLZ,mBAAWc,EAAX,CAAcY,KAAd,CAAoBC,IAApB,GAA4BP,EAAEa,OAAF,GAAajC,WAAWY,IAAX,GAAkB,GAAhC,GAAwC,IAAnE;AACAZ,mBAAWc,EAAX,CAAcY,KAAd,CAAoBG,GAApB,GAA2BT,EAAEc,OAAF,GAAalC,WAAWY,IAAX,GAAkB,GAAhC,GAAwC,IAAlE;AACD;AACDZ,iBAAWc,EAAX,CAAcqB,SAAd,GAA0B,SAA1B;;AAEAb,eAASc,IAAT,CAAcC,WAAd,CAA0BrC,WAAWc,EAArC;;AAEAwB,gCAA0B,YAAY;AACpCtC,mBAAWc,EAAX,CAAcqB,SAAd,IAA2B,UAA3B;AACD,OAFD;AAGAnC,iBAAWc,EAAX,CAAcI,gBAAd,CAA+B,eAA/B,EAAgDlB,WAAWuC,EAA3D,EAA+D,KAA/D;;AAEA,aAAOvC,UAAP;AACD,KAvDU;;AAyDXuC,QAAI,YAASnB,CAAT,EAAY;AACd,UAAIoB,SAASlB,SAASc,IAAT,CAAcK,aAAd,CAA4B,aAA5B,CAAb;;AAEA,UAAGD,MAAH,EAAW;AACTpB,UAAEsB,MAAF,CAASrB,mBAAT,CAA6B,eAA7B,EAA8CrB,WAAWuC,EAAzD,EAA6D,KAA7D;AACAjB,iBAASc,IAAT,CAAcO,WAAd,CAA0BH,MAA1B;AACAxC,mBAAW4C,MAAX;AACD;AACF,KAjEU;;AAmEXA,YAAQ,kBAAW;AACjB5C,iBAAWQ,GAAX,CAAeU,gBAAf,CAAgClB,WAAWK,QAA3C,EAAqDL,WAAWmB,MAAhE,EAAwE,KAAxE;AACD,KArEU;;AAuEXF,eAAW,mBAAS4B,IAAT,EAAeC,KAAf,EAAsB;AAC/B,UAAIC,OAAOzB,SAASyB,IAAT,IAAiBzB,SAAS0B,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAA5B;;AAEA,WAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIF,KAAKG,UAAL,CAAgBlB,MAAnC,EAA2CiB,IAAIA,IAAI,CAAnD,EAAsD;AACpD,YAAGF,KAAKC,oBAAL,CAA0B,OAA1B,EAAmCC,CAAnC,EAAsCE,OAAtC,CAA8CC,WAA9C,OAAgE,OAAnE,EAA4E;AAC1EL,eAAKC,oBAAL,CAA0B,OAA1B,EAAmCC,CAAnC,EAAsCI,SAAtC,IAAmDR,OAAO,KAAP,GAAeC,KAAf,GAAuB,IAA1E;AACA9C,qBAAWS,OAAX,GAAqBsC,KAAKC,oBAAL,CAA0B,OAA1B,EAAmCC,CAAnC,CAArB;AACA;AACD,SAJD,MAIO;AACLjD,qBAAWS,OAAX,GAAqBa,SAASC,aAAT,CAAuB,OAAvB,CAArB;AACAvB,qBAAWS,OAAX,CAAmB6C,IAAnB,GAA0B,UAA1B;AACAtD,qBAAWS,OAAX,CAAmB4C,SAAnB,GAA+BR,OAAO,KAAP,GAAeC,KAAf,GAAuB,IAAtD;AACAC,eAAKV,WAAL,CAAiBrC,WAAWS,OAA5B;AACA;AACD;AACF;AACD,aAAOT,UAAP;AACD,KAxFU;;AA0FXyB,iBAAa,uBAAW;AACtB,UAAItB,YAAYD,UAAUC,SAAV,IAAuBD,UAAUqD,MAAjC,IAA2CjD,OAAOkD,KAAlE;;AAEA,UAAGrD,UAAUC,KAAV,CAAiB,OAAjB,KAA8BD,UAAUC,KAAV,CAAiB,SAAjB,CAA9B,IAA8DD,UAAUC,KAAV,CAAiB,OAAjB,CAAjE,EAA6F;AAC3F,eAAO,KAAP;AACD,OAFD,MAEO,IAAGD,UAAUC,KAAV,CAAiB,UAAjB,CAAH,EAAkC;AACvC,eAAO,SAAP;AACD,OAFM,MAEA;AACL,eAAO,SAAP;AACD;AACF;AApGU,GAAb;AAsGA;AACA,MAAIqD,MAAM,EAAV;;AAEA,WAASC,SAAT,GAAqB;AACjB,QAAIC,EAAJ;AACA,OAAG;AACCA,WAAKC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,GAA3B,CAAL;AACH,KAFD,QAESH,MAAMF,GAFf;AAGA,WAAOE,EAAP;AACH;;AAED,MAAI,CAACrD,OAAOgC,yBAAZ,EAAuC;AACnChC,WAAOgC,yBAAP,GAAmC,UAAUyB,QAAV,EAAoBC,OAApB,EAA6B;AAC5D,UAAIL,KAAKD,WAAT;;AAEAD,UAAIE,EAAJ,IAAUM,sBAAsB,YAAY;AACxCR,YAAIE,EAAJ,IAAUM,sBAAsB,UAAUC,EAAV,EAAc;AAC1C,iBAAOT,IAAIE,EAAJ,CAAP;AACAI,mBAASG,EAAT;AACH,SAHS,EAGPF,OAHO,CAAV;AAIH,OALS,EAKPA,OALO,CAAV;;AAOA,aAAOL,EAAP;AACH,KAXD;AAYH;;AAED,MAAI,CAACrD,OAAO6D,wBAAZ,EAAsC;AAClC7D,WAAO6D,wBAAP,GAAkC,UAAUR,EAAV,EAAc;AAC5C,UAAIF,IAAIE,EAAJ,CAAJ,EAAa;AACTS,6BAAqBX,IAAIE,EAAJ,CAArB;AACA,eAAOF,IAAIE,EAAJ,CAAP;AACH;AACJ,KALD;AAMH;AACF,CA1ID","file":"touchpoint-es5.js","sourcesContent":["/* \n * TouchPoint.js v1.0.1 - 2017-09-29 \n * A JavaScript library that visually shows taps/cicks on HTML prototypes \n * https://github.com/jonahvsweb/touchpoint-js \n * \n * Copyright (c) 2017 Jonah Bitautas <jonahvsweb@gmail.com> \n * \n * Released under the MIT license \n*/ \n'use strict';\n\nvar TouchPoint;\n\n(function () {\n\n  TouchPoint = {\n\n    isSafari: !!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/),\n    clickTap: ('ontouchstart' in window ? 'touchstart' : 'click'),\n    el: 'div', \n    dom: window, \n    styleEl: '',\n    color: '#FFF', \n    opacity: 0.8, \n    size: 20, \n    scale: 8,\n    tp: '', \n    z: 9999,\n\n    init: function(el) {\n      TouchPoint.dom = el;\n\n      TouchPoint\n        .createCss('.tp-init', \n          'position: relative; width: ' + TouchPoint.size + 'px; height: ' + TouchPoint.size + 'px; background-color: ' + TouchPoint.color + '; opacity: ' + TouchPoint.opacity + '; border-radius: 20px; -ms-transform: scale(0.5); -webkit-transform: scale(0.5); -moz-transform: scale(0.5); -o-transform: scale(0.5); transform: scale(0.5); -ms-transition: all 0.5s ease-out; -webkit-transition: all 0.5s ease-out; -moz-transition: all 0.5s ease-out; -o-transition: all 0.5s ease-out; transition: all 0.5s ease-out; z-index: ' + TouchPoint.z + ';')\n        .createCss('.tp-anim', \n          '-ms-transform: scale(' + TouchPoint.scale + '); -webkit-transform: scale(' + TouchPoint.scale + '); -moz-transform: scale(' + TouchPoint.scale + '); -o-transform: scale(' + TouchPoint.scale + '); transform: scale(' + TouchPoint.scale + '); opacity: 0;'\n        );\n      TouchPoint.dom.addEventListener(TouchPoint.clickTap, TouchPoint.create, false);\n    },\n\n    create: function(e) {\n      TouchPoint.dom.removeEventListener(TouchPoint.clickTap, TouchPoint.create, false);\n\n      TouchPoint.tp = document.createElement(TouchPoint.el);\n      TouchPoint.tp.setAttribute('id', 'touchpoint');\n\n      if(TouchPoint.getMobileOS() === 'iOS') {\n        TouchPoint.tp.style.left = (e.pageX - (TouchPoint.size * 0.5)) + 'px';\n        TouchPoint.tp.style.top = (e.pageY - (TouchPoint.size * 0.5)) + 'px';\n      } else if (TouchPoint.getMobileOS() === 'Android') {\n        TouchPoint.tp.style.left = (e.touches[0].pageX - (TouchPoint.size * 0.5)) + 'px';\n        TouchPoint.tp.style.top = (e.touches[0].pageY - (TouchPoint.size * 0.5)) + 'px';\n      } else if (e.touches && e.touches.length > 0) { \n        TouchPoint.tp.style.left = (e.touches[0].pageX - (TouchPoint.size * 0.5)) + 'px';\n        TouchPoint.tp.style.top = (e.touches[0].pageY - (TouchPoint.size * 0.5)) + 'px';\n      } else { \n        TouchPoint.tp.style.left = (e.clientX - (TouchPoint.size * 0.5)) + 'px';\n        TouchPoint.tp.style.top = (e.clientY - (TouchPoint.size * 0.5)) + 'px';\n      }\n      TouchPoint.tp.className = 'tp-init';\n\n      document.body.appendChild(TouchPoint.tp);\n\n      requestNextAnimationFrame(function () {\n        TouchPoint.tp.className += ' tp-anim';\n      });\n      TouchPoint.tp.addEventListener('transitionend', TouchPoint.gc, false);\n\n      return TouchPoint;\n    },\n\n    gc: function(e) {\n      var currTP = document.body.querySelector('#touchpoint');\n\n      if(currTP) {\n        e.target.removeEventListener('transitionend', TouchPoint.gc, false);\n        document.body.removeChild(currTP);\n        TouchPoint.reInit();\n      }\n    },\n\n    reInit: function() {\n      TouchPoint.dom.addEventListener(TouchPoint.clickTap, TouchPoint.create, false);\n    },\n\n    createCss: function(name, rules) {\n      var head = document.head || document.getElementsByTagName('head')[0];\n\n      for(var i = 0; i < head.childNodes.length; i = i + 1) {\n        if(head.getElementsByTagName('style')[i].tagName.toLowerCase() === 'style') {\n          head.getElementsByTagName('style')[i].innerHTML += name + ' { ' + rules + ' }';\n          TouchPoint.styleEl = head.getElementsByTagName('style')[i];\n          break;\n        } else {\n          TouchPoint.styleEl = document.createElement('style');\n          TouchPoint.styleEl.type = 'text/css';\n          TouchPoint.styleEl.innerHTML = name + ' { ' + rules + ' }';\n          head.appendChild(TouchPoint.styleEl);\n          break;\n        }\n      }\n      return TouchPoint;\n    },\n\n    getMobileOS: function() {\n      var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n\n      if(userAgent.match( /iPad/i ) || userAgent.match( /iPhone/i ) || userAgent.match( /iPod/i )) {\n        return 'iOS';\n      } else if(userAgent.match( /Android/i )) {\n        return 'Android';\n      } else {\n        return 'unknown';\n      }\n    }\n  };\n  // requestNextAnimationFrame shim from: https://gist.github.com/getify/3004342\n  var ids = {};\n\n  function requestId() {\n      var id;\n      do {\n          id = Math.floor(Math.random() * 1E9);\n      } while (id in ids);\n      return id;\n  }\n\n  if (!window.requestNextAnimationFrame) {\n      window.requestNextAnimationFrame = function (callback, element) {\n          var id = requestId();\n\n          ids[id] = requestAnimationFrame(function () {\n              ids[id] = requestAnimationFrame(function (ts) {\n                  delete ids[id];\n                  callback(ts);\n              }, element);\n          }, element);\n\n          return id;\n      };\n  }\n\n  if (!window.cancelNextAnimationFrame) {\n      window.cancelNextAnimationFrame = function (id) {\n          if (ids[id]) {\n              cancelAnimationFrame(ids[id]);\n              delete ids[id];\n          }\n      };\n  }\n})();"]}